<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h2 class="dm">Gestionare Voluntari</h2>
      <p class="text-mute lead">Aici sunt afisate toate cererile de voluntariat din pagina "Devino voluntar" de pe web!</p>
      <div class="table-responsive mt-4">
        <table mat-table [dataSource]="volunteerDataSource" class="mat-elevation-z0" matSort>
          <ng-container matColumnDef="firstname">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="dm">Prenume</th>
            <td mat-cell *matCellDef="let element">{{element.firstname}}</td>
          </ng-container>
          <ng-container matColumnDef="lastname">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="dm">Nume</th>
            <td mat-cell *matCellDef="let element">{{element.lastname}}</td>
          </ng-container>
          <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="dm">Data</th>
            <td mat-cell *matCellDef="let element">{{element.createdAt}}</td>
          </ng-container>
          <ng-container matColumnDef="citit">
            <th mat-header-cell *matHeaderCellDef class="dm">Citit</th>
            <td mat-cell *matCellDef="let element">{{element.citit}}</td>
          </ng-container>
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="dm">Acțiuni</th>
            <td mat-cell *matCellDef="let element">
              <button mat-icon-button color="accent" (click)="editVolunteer(element)">
                <mat-icon>visibility</mat-icon>
              </button>
              <button mat-icon-button color="primary" (click)="toggleCititStatus(element)">
                <mat-icon>done</mat-icon>
              </button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
      </div>
    </div>
  </div>

  <ng-template #dialogTemplate>
    <div class="dialog-container">
      <h2 class="dm" mat-dialog-title>{{isEditMode ? 'Editează' : 'Adaugă'}} Voluntar</h2>
      <mat-dialog-content class="dialog-content">
        <mat-form-field appearance="fill">
          <mat-label class="dm">Prenume</mat-label>
          <input matInput [(ngModel)]="volunteer.firstname">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label class="dm">Nume</mat-label>
          <input matInput [(ngModel)]="volunteer.lastname">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label class="dm">Email</mat-label>
          <input matInput [(ngModel)]="volunteer.email">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label class="dm">Facultate</mat-label>
          <input matInput [(ngModel)]="volunteer.faculty">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label class="dm">Telefon</mat-label>
          <input matInput [(ngModel)]="volunteer.phone">
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label class="dm">Motivul Voluntariatului</mat-label>
          <textarea matInput rows="5" [(ngModel)]="volunteer.reason_for_volunteering"></textarea>
        </mat-form-field>
      </mat-dialog-content>
      <mat-dialog-actions align="end">
        <button mat-flat-button color="warn" mat-dialog-close>Anulează</button>
        <button mat-flat-button color="primary" (click)="saveVolunteer()">{{isEditMode ? 'Salvează' : 'Adaugă'}}</button>
      </mat-dialog-actions>
    </div>
  </ng-template>
</div>
