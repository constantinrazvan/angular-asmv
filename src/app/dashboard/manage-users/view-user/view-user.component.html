<div class="container mt-4">
  <div class="d-flex justify-content-between mb-3">
    <button 
      mat-flat-button 
      color="primary"
      [routerLink]="['/dashboard/cereri-voluntariat']" 
      routerLinkActive="router-link-active"
      style="background-color: #038ED1;"
    >
      ÃŽntoarce-te!
    </button>
  </div>

  <mat-card>
    <mat-card-content>
      <!-- User ID -->
      <div class="row mb-3">
        <div class="col-md-4">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>ID</mat-label>
            <input matInput [value]="user.id" placeholder="ID" readonly>
          </mat-form-field>
        </div>
      </div>

      <!-- First Name -->
      <div class="row mb-3">
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Nume</mat-label>
            <input matInput [(ngModel)]="user.firstname" placeholder="Nume" [readonly]="!isEditing">
          </mat-form-field>
        </div>
      </div>

      <!-- Last Name -->
      <div class="row mb-3">
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Prenume</mat-label>
            <input matInput [(ngModel)]="user.lastname" placeholder="Prenume" [readonly]="!isEditing">
          </mat-form-field>
        </div>
      </div>

      <!-- Email -->
      <div class="row mb-3">
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Email</mat-label>
            <input matInput [(ngModel)]="user.email" placeholder="Email" [readonly]="!isEditing">
          </mat-form-field>
        </div>
      </div>

      <!-- Role -->
      <div class="row mb-3">
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Rol</mat-label>
            <mat-select [(ngModel)]="user.role" [disabled]="!isEditing">
              <mat-option *ngFor="let role of roles" [value]="role">
                {{ role }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Created At -->
      <div class="row mb-3">
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Creat la</mat-label>
            <input matInput [value]="formatDate(user.created_at)" placeholder="Creat la" readonly>
          </mat-form-field>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="button-group">
        <button 
          mat-flat-button 
          color="primary"
          class="action-button"
          style="margin-left: 2.5px; background-color: #038ED1; color: white;"
          *ngIf="!isEditing"
          (click)="editUser()"
        >
          <span class="material-symbols-outlined" style="font-size: 20px; margin-top: 2.5px">edit</span>
        </button>

        <button 
          mat-flat-button 
          color="danger"
          class="action-button"
          style="margin-left: 2.5px; background-color: #d10303; color: white;"
          *ngIf="!isEditing && checkUserRole()"
          (click)="deleteUser()"
        >
          <span class="material-symbols-outlined" style="font-size: 20px; margin-top: 2.5px">delete</span>
        </button>

        <button 
          mat-flat-button 
          color="primary"
          class="action-button"
          style="margin-left: 2.5px; background-color: #038ED1; color: white;"
          *ngIf="isEditing"
          (click)="saveUser()"
        >
          <span class="material-symbols-outlined" style="font-size: 20px; margin-top: 2.5px">check</span>
        </button>

        <button 
          mat-flat-button 
          color="warn"
          class="action-button"
          style="margin-left: 2.5px; background-color: #d10303; color: white;"
          *ngIf="isEditing"
          (click)="cancelEdit()"
        >
          <span class="material-symbols-outlined" style="font-size: 20px; margin-top: 2.5px">close</span>
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>